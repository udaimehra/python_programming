#9.4 Write a program to read through the mbox-short.txt and 
#figure out who has sent the greatest number of mail messages. 
#The program looks for 'From ' lines and takes the second word
# of those lines as the person who sent the mail. The program
#creates a Python dictionary that maps the sender's mail address
# to a count of the number of times they appear in the file. 
# After the dictionary is produced, the program reads through
# the dictionary using a maximum loop to find the most prolific committer.

ln = []
em = []
bigcount = 0 
bigword = None
counts = {}
name = input("Enter file:")
if len(name) < 1:
    name = "mbox-short.txt"
handle = open(name)
for line in handle:
    ln = line.rstrip()
    ln = line.split()
    if line.startswith('From') and len(ln)>2:
        em.append(ln[1]) 
for e in em: 
    counts[e] = counts.get(e,0) + 1 
for email,count in counts.items():
    if email is None or count>bigcount:
        bigword = email
        bigcount = count
print(bigword, bigcount)
